<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unimate</title>
    <meta
      name="description"
      content="Сервис для решения проблем с учёбой, чтобы у тебя появилось свободное время — быстро, удобно и анонимно."
    />

    <link
      rel="icon"
      type="image/png"
      href="/unimate/favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="/unimate/favicon/favicon-new.svg" />
    <link rel="shortcut icon" href="/unimate/favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/unimate/favicon/apple-touch-icon.png"
    />
    <meta name="apple-mobile-web-app-title" content="Unimate" />
    <link rel="manifest" href="/favicon/favicon/site.webmanifest" />
    <link
      rel="preload"
      href="/unimate/assets/Manrope-Regular-DaYIuqGh.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/unimate/assets/Manrope-Bold-CBDT-3pn.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />

    <!-- Open Graph теги -->
    <meta
      property="og:title"
      content="Unimate — сервис для решения проблем с учёбой"
    />
    <meta
      property="og:description"
      content="Решай учебные задачи быстро и удобно, освобождай время для важного."
    />
    <meta
      property="og:image"
      content="https://https://blackreaper228.github.io/unimate/og-image.jpg"
    />
    <meta
      property="og:url"
      content="https://blackreaper228.github.io/unimate"
    />
    <meta property="og:type" content="website" />

    <!-- Рекомендуется -->
    <meta property="og:locale" content="ru_RU" />
    <meta property="og:site_name" content="Unimate" />
    <script type="module" crossorigin src="/unimate/assets/index-C0M2fFZc.js"></script>
    <link rel="stylesheet" crossorigin href="/unimate/assets/index-BdDdH1pE.css">
  </head>
  <body>
    <form id="upload-form">
      <input type="text" name="name" placeholder="Имя" required />
      <input type="email" name="email" placeholder="Email" required />
      <input type="file" name="file" required />
      <button type="submit">Загрузить</button>
    </form>

    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbyTUVlc6-nwNnMM97U6k6ioqHj00B5GEkOwudW22v2PGCiur5jL8y4LiJkDCdS7lpLc-g/exec";

      document
        .getElementById("upload-form")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const form = e.target;
          const file = form.file.files[0];
          const reader = new FileReader();

          reader.onloadend = () => {
            const base64 = reader.result.split(",")[1];

            const data = new URLSearchParams();
            data.append("name", form.name.value);
            data.append("email", form.email.value);
            data.append("file", base64);
            data.append("filename", file.name);
            data.append("mimeType", file.type);

            fetch(scriptURL, {
              method: "POST",
              body: data,
            })
              .then(() => alert("Файл отправлен!"))
              .catch(() => alert("Ошибка при загрузке"));
          };

          reader.readAsDataURL(file);
        });
    </script>
  </body>
</html>
